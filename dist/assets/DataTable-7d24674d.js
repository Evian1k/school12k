import{c as C,r as l,R as p,j as r,y as K,z as D,B as g,A as M,J as N}from"./index-d03a0f42.js";import{T as S,a as T,b as u,c as k,d as z,e as f}from"./table-35b743e2.js";import{I as F}from"./input-471e7ddd.js";import{C as H}from"./chevron-down-8d64b5a8.js";const V=C("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),A=({columns:i,data:o,filterColumn:n})=>{var y;const[t,m]=l.useState([]),[c,b]=l.useState([]),[d,v]=l.useState({});l.useState({});const w=e=>{const s=t.length>0&&t[0].id===e&&t[0].desc===!1;m([{id:e,desc:!s}])},h=p.useMemo(()=>{if(t.length===0)return o;const e=t[0].id,s=t[0].desc?-1:1;return[...o].sort((a,j)=>a[e]<j[e]?-1*s:a[e]>j[e]?1*s:0)},[o,t]),x=p.useMemo(()=>c.length===0?h:h.filter(e=>c.every(s=>{const a=e[s.id];return String(a).toLowerCase().includes(String(s.value).toLowerCase())})),[h,c]);return r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"flex items-center py-4",children:[r.jsx(F,{placeholder:`Filter by ${n}...`,value:((y=c.find(e=>e.id===n))==null?void 0:y.value)||"",onChange:e=>{const s=c.filter(a=>a.id!==n);e.target.value&&s.push({id:n,value:e.target.value}),b(s)},className:"max-w-sm"}),r.jsxs(K,{children:[r.jsx(D,{asChild:!0,children:r.jsxs(g,{variant:"outline",className:"ml-auto",children:["Columns ",r.jsx(H,{className:"ml-2 h-4 w-4"})]})}),r.jsx(M,{align:"end",children:i.filter(e=>e.header).map(e=>r.jsx(N,{className:"capitalize",checked:!d[e.accessorKey],onCheckedChange:s=>v(a=>({...a,[e.accessorKey]:!s})),children:e.header},e.accessorKey))})]})]}),r.jsx("div",{className:"rounded-md border",children:r.jsxs(S,{children:[r.jsx(T,{children:r.jsx(u,{children:i.map(e=>{var s,a;return d[e.accessorKey]?null:r.jsx(k,{children:e.header&&r.jsxs(g,{variant:"ghost",onClick:()=>e.accessorKey&&w(e.accessorKey),children:[e.header,((s=t[0])==null?void 0:s.id)===e.accessorKey&&((a=t[0])!=null&&a.desc?" ↓":" ↑")]})},e.accessorKey)})})}),r.jsx(z,{children:x.length?x.map(e=>r.jsx(u,{children:i.map(s=>d[s.accessorKey]?null:r.jsx(f,{children:s.cell?s.cell({row:e}):e[s.accessorKey]},s.accessorKey))},e.id)):r.jsx(u,{children:r.jsx(f,{colSpan:i.length,className:"h-24 text-center",children:"No results."})})})]})})]})};export{A as D,V as M};
