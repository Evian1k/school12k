import{c as R,r as o,u as k,j as e,m as u,L as d,G as F,C as A,f as M,g as V,a as q,B as n,R as g,t as p}from"./index-c6a96d92.js";import{H as D}from"./Helmet-8ecd5b71.js";import{I as m}from"./input-ccc428fc.js";import{S as P}from"./select-5e8c76f3.js";import{A as H}from"./arrow-left-355e28a9.js";import{M as y}from"./mail-5fe95ae9.js";import{C as L}from"./check-circle-45e7931d.js";import"./chevron-down-d98ec8c5.js";const B=R("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),z=()=>{const[t,j]=o.useState({name:"",email:"",role:"student"}),[r,x]=o.useState(""),[s,h]=o.useState("registration"),{sendRegistrationCode:f,verifyRegistrationCode:v,resendCode:N,loading:i,pendingVerification:l}=k(),w=async a=>{if(a.preventDefault(),!t.name.trim()){p({title:"Name Required",description:"Please enter your full name.",variant:"destructive"});return}if(!t.email.trim()){p({title:"Email Required",description:"Please enter your email address.",variant:"destructive"});return}(await f(t)).success&&h("verification")},b=async a=>{if(a.preventDefault(),!r)return;(await v(r)).success},c=a=>{j({...t,[a.target.name]:a.target.value})},C=async()=>{await N()},S=()=>{h("registration"),x("")};return e.jsxs(e.Fragment,{children:[e.jsxs(D,{children:[e.jsx("title",{children:"Register - EduManage School Management System"}),e.jsx("meta",{name:"description",content:"Create your EduManage account to start managing your educational institution efficiently."})]}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-6xl grid lg:grid-cols-2 gap-8 items-center",children:[e.jsxs(u.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},className:"text-center lg:text-left space-y-6",children:[e.jsxs(d,{to:"/",className:"inline-flex items-center space-x-3 text-white hover:text-gray-200 transition-colors",children:[e.jsx(H,{className:"w-5 h-5"}),e.jsx("span",{children:"Back to Home"})]}),e.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center",children:e.jsx(F,{className:"w-8 h-8 text-blue-600"})}),e.jsx("span",{className:"text-3xl font-bold text-white",children:"EduManage"})]}),e.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-white",children:s==="registration"?"Join EduManage":"Verify Your Email"}),e.jsx("p",{className:"text-xl text-gray-300",children:s==="registration"?"Create your account and start transforming your educational institution with our comprehensive management system.":"We've sent a 6-digit verification code to your email. Enter it below to complete your registration."})]}),e.jsx(u.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"w-full max-w-md mx-auto",children:e.jsxs(A,{className:"glass-effect border-white/20",children:[e.jsxs(M,{className:"text-center",children:[e.jsx(V,{className:"text-2xl font-bold text-white flex items-center justify-center space-x-2",children:s==="registration"?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"w-6 h-6"}),e.jsx("span",{children:"Create Account"})]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"w-6 h-6"}),e.jsx("span",{children:"Verify Email"})]})}),e.jsx("p",{className:"text-gray-300",children:s==="registration"?"Fill in your details to get started":`Code sent to ${(l==null?void 0:l.email)||t.email}`})]}),e.jsxs(q,{className:"space-y-6",children:[s==="registration"?e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-white",children:"Full Name"}),e.jsx(m,{type:"text",name:"name",value:t.name,onChange:c,placeholder:"Enter your full name",required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400",autoComplete:"name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-white",children:"Email Address"}),e.jsx(m,{type:"email",name:"email",value:t.email,onChange:c,placeholder:"Enter your email address",required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400",autoComplete:"email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-white",children:"Role"}),e.jsxs(P,{name:"role",value:t.role,onChange:c,className:"bg-white/10 border-white/20 text-white",children:[e.jsx("option",{value:"student",children:"Student"}),e.jsx("option",{value:"teacher",children:"Teacher"}),e.jsx("option",{value:"parent",children:"Parent"}),e.jsx("option",{value:"admin",children:"Administrator"})]})]}),e.jsx(n,{type:"submit",disabled:i,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3",children:i?e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending Code..."]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Send Verification Code"]})})]}):e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-white",children:"Verification Code"}),e.jsx(m,{type:"text",value:r,onChange:a=>x(a.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"Enter 6-digit code",required:!0,className:"bg-white/10 border-white/20 text-white placeholder:text-gray-400 text-center text-lg tracking-widest",maxLength:6,autoComplete:"one-time-code"}),e.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Check your email for the verification code"})]}),e.jsx(n,{type:"submit",disabled:i||r.length!==6,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3",children:i?e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Verify & Create Account"]})}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx(n,{type:"button",variant:"ghost",onClick:C,disabled:i,className:"text-gray-300 hover:text-white p-0 h-auto",children:"Resend Code"}),e.jsx(n,{type:"button",variant:"ghost",onClick:S,className:"text-gray-300 hover:text-white p-0 h-auto",children:"Change Details"})]})]}),s==="registration"&&e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-gray-300",children:["Already have an account?"," ",e.jsx(d,{to:"/login",className:"text-blue-400 hover:text-blue-300 font-medium",children:"Sign in here"})]})}),s==="verification"&&e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-xs text-gray-400",children:"The verification code is displayed in the browser console for demo purposes"}),e.jsxs("p",{className:"text-gray-300",children:["Already have an account?"," ",e.jsx(d,{to:"/login",className:"text-blue-400 hover:text-blue-300 font-medium",children:"Sign in here"})]})]})]})]})})]})})]})};export{z as default};
